<?xml version="1.0" encoding="UTF-8"?>

<configuration>
    <turboFilter class="ch.qos.logback.classic.turbo.MarkerFilter">
        <Name>Finest</Name>
        <Marker>FINEST</Marker>
        <OnMatch>DENY</OnMatch>
    </turboFilter>

    <!-- enable this if you want log message appear on local console -->
   <appender name="Console" class="ch.qos.logback.core.ConsoleAppender">
        <layout class="ch.qos.logback.classic.PatternLayout">
            <pattern>%d %-5level [%logger{36}] - %m%n</pattern>
        </layout>
    </appender>
	<appender name="File" class="ch.qos.logback.core.rolling.RollingFileAppender">
	    <file>${gda.logs.dir}/server.log</file>
        <rollingPolicy class="ch.qos.logback.core.rolling.TimeBasedRollingPolicy">
            <FileNamePattern>${gda.logs.dir}/server.%d{yyyy-MM-dd}.log.gz</FileNamePattern>
        </rollingPolicy>
	    <append>true</append>
	    <!-- encoders are assigned the type
	         ch.qos.logback.classic.encoder.PatternLayoutEncoder by default -->
	    <encoder>
	      <pattern>%d %-5level [%logger{36}] - %m%n</pattern>
	    </encoder>
	</appender>

    <logger name="gda" level="DEBUG"/>
    <logger name="gda.scan.ScanDataPointPopulatorAndPublisher" level="INFO" />
    <logger name="ncsa.hdf.object" level="INFO" />
    <logger name="org.eclipse.dawnsci.hdf5" level="INFO" />
    <root>
        <level value="DEBUG"/>
        <appender-ref ref="Console"/>
        <appender-ref ref="File"/>
    </root>
    <consolePlugin />
</configuration>
